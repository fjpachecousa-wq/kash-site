<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KASH – Website e Simulador • Aplicação LLC • Contrato • Assinatura • Tracking</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="wrap">
    <header class="k-hide-print">
      <div>
        <h1>KA$H Solutions — Registro de LLC na Flórida</h1>
        <div class="muted">Fluxo: Simulador → Formulário → Confirmação → Pagamento → Contrato (PT/EN) → Assinatura → Tracking</div>
      </div>
      <div class="k-inline">
        <span class="badge" id="badgeTrack">Sem Tracking</span>
        <button class="btn ghost" onclick="window.print()">Imprimir</button>
      </div>
    </header>

    <!-- STEP 0: SIMULADOR -->
    <section id="stepSim" class="card">
      <h2>0) Simulador de Retenção de 30% (YouTube/Plataformas EUA)</h2>
      <div class="grid cols-2">
        <div>
          <label>Receita mensal estimada (USD)</label>
          <input id="simRevenue" type="number" min="0" step="50" value="2000" />
        </div>
        <div>
          <label>Alíquota retida sem LLC (padrão 30%)</label>
          <input id="simRate" type="number" min="0" max="100" step="1" value="30" />
        </div>
      </div>
      <div class="row" style="margin-top:8px">
        <button class="btn" id="simCalc">Calcular</button>
        <span class="muted">Estimativa ilustrativa. Não é aconselhamento fiscal.</span>
      </div>
      <div id="simOut" class="print-area" style="margin-top:12px"></div>
      <hr/>
      <div class="row k-hide-print">
        <button class="btn secondary" onclick="nav('stepForm')">Prosseguir para Aplicação</button>
      </div>
    </section>

    <!-- STEP 1: FORM -->
    <section id="stepForm" class="card hide">
      <h2>1) Formulário de Aplicação</h2>
      <form id="appForm" class="grid">
        <div class="grid cols-2">
          <div><label>Nome completo</label><input name="members[0].fullName" required /></div>
          <div><label>E-mail</label><input type="email" name="company.email" required /></div>
          <div><label>Telefone</label><input name="company.phone" /></div>
          <div><label>Documento (CPF/Passaporte)</label><input name="members[0].passport" required /></div>
        </div>
        <div><label>Endereço completo</label><input name="company.address" required /></div>
        <div class="grid cols-2">
          <div><label>Nome da empresa — Opção 1 (obrigatória)</label><input name="company.companyName" required /></div>
          <div><label>Nome da empresa — Opção 2 (obrigatória)</label><input name="company.altName2" required /></div>
          <div><label>Nome da empresa — Opção 3 (opcional)</label><input name="company.altName3" /></div>
          <div><label>Cidade/UF (foro Brasil)</label><input name="company.cityUF" placeholder="Rio de Janeiro/RJ" /></div>
        </div>
        <div class="row k-hide-print">
          <button class="btn" type="submit">Enviar</button>
          <span class="muted">Envia para Formspree e avança para Confirmação.</span>
        </div>
      </form>
      <div id="formMsg" class="muted"></div>
    </section>

    <!-- STEP 2: CONFIRM -->
    <section id="stepConfirm" class="card hide">
      <h2>2) Confirmação do Conteúdo</h2>
      <div id="confirmJSON" class="muted"></div>
      <label class="row" style="margin-top:10px">
        <input type="checkbox" id="acceptTos" />
        <span>Li e aceito o Contrato/Termos. (você poderá imprimir antes da assinatura)</span>
      </label>
      <hr>
      <div class="row k-hide-print">
        <button class="btn secondary" id="goPay" disabled>Ir para Pagamento</button>
        <button class="btn ghost" onclick="nav('stepForm')">Voltar</button>
      </div>
    </section>

    <!-- STEP 3: PAYMENT (placeholder simples) -->
    <section id="stepPay" class="card hide">
      <h2>3) Pagamento do Serviço</h2>
      <p class="muted">Integre aqui seu link de checkout (Stripe, etc.). Para demonstração, use o botão abaixo para simular sucesso de pagamento.</p>
      <div class="row k-hide-print">
        <button class="btn" id="btnPaySuccess">Simular pagamento aprovado</button>
        <button class="btn ghost" onclick="nav('stepConfirm')">Voltar</button>
      </div>
    </section>

    <!-- STEP 4: CONTRACT (PT/EN) -->
    <section id="stepContract" class="card hide">
      <h2>4) Emissão do Contrato (PT/EN)</h2>
      <p class="muted">A data abaixo corresponde à <strong>Data de Emissão</strong> do documento (pós-pagamento). Impressão sai limpa.</p>
      <div class="grid cols-2">
        <div id="contratoPT" class="print-area print-col"></div>
        <div id="contratoEN" class="print-area print-col"></div>
      </div>
      <hr>
      <div class="row k-hide-print">
        <button class="btn secondary" id="toSign">Prosseguir para Assinatura</button>
        <button class="btn ghost" onclick="window.print()">Imprimir</button>
      </div>
    </section>

    <!-- STEP 5: SIGN -->
    <section id="stepSign" class="card hide">
      <h2>5) Assinatura Eletrônica (Aceite)</h2>
      <p class="muted">Ao clicar em "Assinar", será gerado um <strong>Signature ID</strong> e um <strong>Código de Verificação</strong> (hash) demonstrativo; em produção, o hash deve ser calculado no servidor.</p>
      <label class="row" style="margin:8px 0">
        <input type="checkbox" id="signAck" />
        <span>Declaro que li e concordo com os termos do contrato.</span>
      </label>
      <div class="row k-hide-print">
        <button class="btn" id="btnSign" disabled>Assinar Contrato</button>
        <button class="btn ghost" onclick="nav('stepContract')">Voltar</button>
      </div>
      <div id="signInfo" class="muted" style="margin-top:10px"></div>
    </section>

    <!-- STEP 6: TRACK / DASHBOARD -->
    <section id="stepTrack" class="card hide">
      <h2>6) Tracking e Dashboard do Cliente</h2>
      <div class="row">
        <div class="badge">Track Number: <span id="trackOut">—</span></div>
        <div class="badge">Status atual: <span id="statusOut">FORM_RECEIVED</span></div>
      </div>
      <hr>
      <h3>Linha do tempo</h3>
      <ol id="timeline" class="grid"></ol>
      <h3>Documentos para Download</h3>
      <ul id="docsList" class="grid"></ul>
      <hr>
      <div class="row k-hide-print">
        <button class="btn secondary" onclick="voltarHome()">Concluir e voltar à página inicial</button>
        <button class="btn ghost" onclick="window.print()">Imprimir</button>
      </div>
    </section>
  </div>

  <script src="app.js"></script>
</body>
</html>

